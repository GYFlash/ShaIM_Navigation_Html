{"version":3,"sources":["webpack:///./src/sdk/Tools.js","webpack:///src/App.vue","webpack:///./src/App.vue?24d2","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/sdk/EventListeners.js","webpack:///./src/main.js"],"names":["__WEBPACK_IMPORTED_MODULE_0_js_cookie__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_js_cookie___default","n","cookieSet","key","options","Cookies","set","cookieGet","get","JSON","parse","cookiesClear","remove","__webpack_exports__","userSet","users","userGet","userClear","App","name","mounted","_this","this","$_WebIM_conn","listen","onOpened","message","$_event","emitEvent","onClosed","onTextMessage","onEmojiMessage","onPictureMessage","onCmdMessage","onAudioMessage","onLocationMessage","onFileMessage","onVideoMessage","onPresence","onRoster","onInviteMessage","onOnline","onOffline","onError","onBlacklistUpdate","list","onReceivedMessage","onDeliveredMessage","onReadMessage","onCreateGroup","onMutedMessage","selectortype_template_index_0_src_App","render","_h","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","normalizeComponent","ssrContext","Vue","use","Router","router","routes","path","redirect","component","e","then","bind","beforeEach","to","form","next","Tools","window","fullPath","EventListeners","classCallCheck_default","events","eventName","eventBody","push","length","console","log","index","event","config","productionTip","prototype","$_mdui","Mdui","EventListener","WebIM","connection","isMultiLoginSessions","https","location","protocol","url","xmppURL","heartBeatWait","autoReconnectNumMax","autoReconnectInterval","apiUrl","apiURL","isAutoLogin","userCookie","user","username","accessToken","access_token","appKey","appkey","open","el","components","template"],"mappings":"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","file":"static/js/app.f79b10dd897948e07bfb.js","sourcesContent":["import Cookies from 'js-cookie'\nconst __user_info = '__user_info' // 用户信息\n/**\n * 设置cookie\n * @param key\n * @param options\n */\nconst cookieSet = function (key, options) {\n  Cookies.set(key, options)\n}\n/**\n * 获取cookie\n * @param key\n * @returns {*}\n */\nconst cookieGet = function (key) {\n  if (Cookies.get(key)) {\n    return JSON.parse(Cookies.get(key))\n  } else {\n    return false\n  }\n}\n/**\n * 清除cookie\n * @param key\n */\nconst cookiesClear = function (key) {\n  Cookies.remove(key)\n}\n/**\n * 保存用户信息\n * @param users\n */\nconst userSet = function (users) {\n  cookieSet(__user_info, users)\n}\n/**\n * 获取用户信息\n * @returns {*}\n */\nconst userGet = function () {\n   return cookieGet(__user_info)\n}\n/**\n * 清除用户信息\n */\nconst userClear = function () {\n  cookiesClear(__user_info)\n}\n\nexport default {\n  cookieSet, cookieGet, cookiesClear,\n  userSet, userGet, userClear\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sdk/Tools.js","<template>\n  <div id=\"app\">\n    <!--<transition name=\"app\">-->\n      <router-view/>\n    <!--</transition>-->\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'App',\n  mounted () {\n    let _this = this\n    this.$_WebIM_conn.listen({\n      onOpened: function ( message ) {\n        // 如果isAutoLogin设置为false，那么必须手动设置上线，否则无法收消息\n        // 手动上线指的是调用conn.setPresence(); 如果conn初始化时已将isAutoLogin设置为true\n        // 则无需调用conn.setPresence();\n        _this.$_event.emitEvent('onOpened', message) //连接成功回调\n      },\n      onClosed: function ( message ) {\n        _this.$_event.emitEvent('onClosed', message) //连接关闭回调\n      },\n      onTextMessage: function ( message ) {\n        // console.log(message)\n        _this.$_event.emitEvent('onTextMessage', message) //收到文本消息\n      },\n      onEmojiMessage: function ( message ) {\n        _this.$_event.emitEvent('onEmojiMessage', message) //收到表情消息\n      },\n      onPictureMessage: function ( message ) {\n        _this.$_event.emitEvent('onPictureMessage', message) //收到图片消息\n      },\n      onCmdMessage: function ( message ) {\n        _this.$_event.emitEvent('onCmdMessage', message) //收到命令消息\n      },\n      onAudioMessage: function ( message ) {\n        _this.$_event.emitEvent('onAudioMessage', message) //收到音频消息\n      },\n      onLocationMessage: function ( message ) {\n        _this.$_event.emitEvent('onLocationMessage', message) //收到位置消息\n      },\n      onFileMessage: function ( message ) {\n        _this.$_event.emitEvent('onFileMessage', message) //收到文件消息\n      },\n      onVideoMessage: function (message) {\n        _this.$_event.emitEvent('onVideoMessage', message) //收到视频消息\n      },\n      onPresence: function ( message ) {\n        _this.$_event.emitEvent('onPresence', message) //处理“广播”或“发布-订阅”消息，如联系人订阅请求、处理群组、聊天室被踢解散等消息\n      },\n      onRoster: function ( message ) {\n        _this.$_event.emitEvent('onRoster', message) //处理好友申请\n      },\n      onInviteMessage: function ( message ) {\n        _this.$_event.emitEvent('onInviteMessage', message) //处理群组邀请\n      },\n      onOnline: function () {\n        _this.$_event.emitEvent('onOnline', message) //本机网络连接成功\n      },\n      onOffline: function () {\n        _this.$_event.emitEvent('onOffline', message) //本机网络掉线\n      },\n      onError: function ( message ) {\n        _this.$_event.emitEvent('onError', message) //失败回调\n      },\n      onBlacklistUpdate: function (list) {\n        _this.$_event.emitEvent('onBlacklistUpdate', message) //黑名单变动\n        // 查询黑名单，将好友拉黑，将好友从黑名单移除都会回调这个函数，list则是黑名单现有的所有好友信息\n      },\n      onReceivedMessage: function(message){\n        _this.$_event.emitEvent('onReceivedMessage', message) //收到消息送达服务器回执\n      },\n      onDeliveredMessage: function(message){\n        _this.$_event.emitEvent('onDeliveredMessage', message) //收到消息送达客户端回执\n      },\n      onReadMessage: function(message){\n        _this.$_event.emitEvent('onReadMessage', message) //收到消息已读回执\n      },\n      onCreateGroup: function(message){\n        _this.$_event.emitEvent('onCreateGroup', message) //创建群组成功回执（需调用createGroupNew）\n      },\n      onMutedMessage: function(message){\n        _this.$_event.emitEvent('onMutedMessage', message) //如果用户在A群组被禁言，在A群发消息会走这个回调并且消息不会传递给群其它成员\n      }\n    });\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: left;\n  color: #2c3e50;\n}\n.app-enter-active {\n  transition: all .3s ease;\n}\n.app-leave-active {\n  transition: all .0s cubic-bezier(1.0, 0.5, 0.8, 1.0);\n}\n.app-enter, .app-leave-to {\n  transform: translateX(10px);\n  opacity: 0;\n}\n@media (max-width: 768px) {\n  html,body {\n    background-color: white !important;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-35e7b8b2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-35e7b8b2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-35e7b8b2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\n\n// 工具\nimport Tools from '../sdk/Tools'\n\nVue.use(Router)\n\nconst router = new Router({\n  routes: [\n    {\n      path: '/',\n      redirect: '/home'\n    },\n    // 首页\n    {\n      path: '/home',\n      name: 'home',\n      component: () => import('@/views/home')\n    },\n    // 登录\n    {\n      path: '/login',\n      name: 'login',\n      component: () => import('@/views/login')\n    },\n    // 注册\n    {\n      path: '/register',\n      name: 'register',\n      component: () => import('@/views/register')\n    },\n    // 聊天\n    {\n      path: '/talk/:id',\n      name: 'talk',\n      component: () => import('@/views/talk')\n    }\n  ]\n})\n\n/**\n * 判断是否是指用户必须登录的页面\n * @param route\n * @returns {boolean}\n */\nfunction checkRouteName (route) {\n  if (route.name === 'home') {\n    return true\n  } else {\n    return false\n  }\n}\n\nrouter.beforeEach(function (to, form, next) {\n  if (checkRouteName(to)) {\n    if (Tools.userGet()) {\n      next()\n    } else {\n      // 清除用户登录信息\n      Tools.userClear()\n      // 设置原目标页面 供登录成功后进行跳转\n      window['toLocation'] = to.fullPath\n      // 跳转登录页面\n      next('/login')\n    }\n  } else { next() }\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","/**\n * 事件监听器\n */\nclass EventListeners {\n  constructor () {\n    this.events = {};\n  }\n  addEvent (eventName, eventBody) {\n    if (!this.events[eventName]) {\n      this.events[eventName] = []\n    } else {}\n    this.events[eventName].push(eventBody);\n  }\n  emitEvent (eventName, options) {\n    let events = this.events[eventName];\n    if (!events || events.length <= 0) {\n      console.log('%c%s', 'color: orange;', '暂未添加该事件的监听器：eventName = ' + eventName);\n      return;\n    }\n    for (let index in events) {\n      let event = events[index];\n      event(options);\n    }\n  }\n  removeEvent (eventName) {\n    let events = this.events[eventName];\n    if (!events) {\n      console.log('%c$s', 'color: orange;', '暂未添加该事件的监听器：eventName = ' + eventName);\n      return;\n    }\n    events = [];\n    delete this.events[eventName];\n  }\n}\nexport default EventListeners;\n\n\n// WEBPACK FOOTER //\n// ./src/sdk/EventListeners.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\n// 环信 IM\n// import WebIM from 'easemob-websdk'\n// 事件监听器\nimport EventListener from './sdk/EventListeners'\n// 工具\nimport Tools from './sdk/Tools'\n\n// mdui\nimport Mdui from 'mdui'\nimport 'mdui/dist/css/mdui.css'\n\nVue.config.productionTip = false\nVue.prototype.$_mdui = Mdui\nVue.prototype.$_event = new EventListener()\nVue.prototype.$_WebIM_conn = new WebIM.connection({\n  isMultiLoginSessions: WebIM.config.isMultiLoginSessions,\n  https: typeof WebIM.config.https === 'boolean' ? WebIM.config.https : location.protocol === 'https:',\n  url: WebIM.config.xmppURL,\n  heartBeatWait: WebIM.config.heartBeatWait,\n  autoReconnectNumMax: WebIM.config.autoReconnectNumMax,\n  autoReconnectInterval: WebIM.config.autoReconnectInterval,\n  apiUrl: WebIM.config.apiURL,\n  isAutoLogin: true\n})\nlet userCookie = Tools.userGet()\nif (userCookie) {\n  var options = {\n    apiUrl: WebIM.config.apiURL,\n    user: userCookie.user.username,\n    accessToken: userCookie.access_token,\n    appKey: WebIM.config.appkey\n  };\n  Vue.prototype.$_WebIM_conn.open(options);\n}\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}